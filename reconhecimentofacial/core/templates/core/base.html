{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Sistema de Gestão{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'core/css/base.css' %}" />
    {% block extra_styles %}{% endblock %}
  </head>
  <body>
    <nav class="navbar">
      <div class="navbar-container">
        <a class="navbar-brand" href="{% url 'index' %}">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
          Sistema de Gestão
        </a>
        <div class="navbar-nav">
          {% if user.is_authenticated %}
          <div class="user-info-navbar">
            <span class="welcome-message">
              {{ user.get_full_name|default:user.username }}
            </span>
            <span class="badge-perfil-nav badge-perfil-{{ user.perfil.tipo_perfil|lower }}">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              {{ user.perfil.get_tipo_perfil_display }}
            </span>
          </div>
          <a class="nav-link" href="{% url 'index' %}">Home</a>
          <a class="nav-link" href="{% url 'propriedades_list' %}">Propriedades</a>
          <a class="nav-link" href="{% url 'usuarios_list' %}">Usuários</a>
          <a class="btn-logout" href="{% url 'logout' %}">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
              <polyline points="16 17 21 12 16 7"></polyline>
              <line x1="21" y1="12" x2="9" y2="12"></line>
            </svg>
            Sair
          </a>
          {% else %}
          <a class="btn-login" href="{% url 'login' %}">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
              <polyline points="10 17 15 12 10 7"></polyline>
              <line x1="15" y1="12" x2="3" y2="12"></line>
            </svg>
            Entrar
          </a>
          {% endif %}
        </div>
      </div>
    </nav>

    <main class="container">
      {% if messages %} {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">{{ message }}</div>
      {% endfor %} {% endif %} {% block content %}{% endblock %}
    </main>

    {% block scripts %}{% endblock %}
  </body>
</html>
